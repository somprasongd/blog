---
title: 'API Service with Go: API Documents'
date: '2022-07-20'
lastmod: '2022-07-21'
tags: ['api', 'go', 'swagger']
draft: false
summary: '‡∏™‡∏£‡πâ‡∏≤‡∏á Swagger 2.0 Api documents'
---

# API Documents

‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏≠‡∏µ‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤‡∏™‡∏£‡πâ‡∏á API Service ‡∏Ñ‡∏∑‡∏≠ API Document ‡∏ß‡πà‡∏≤ API ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö Resquest ‡πÅ‡∏ö‡∏ö ‡∏°‡∏µ Response ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á

‡∏ã‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠ ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á API Document ‡∏î‡πâ‡∏ß‡∏¢ [Swagger](https://swagger.io/) ‡∏ã‡∏∂‡πà‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤ Go ‡∏à‡∏∞‡πÉ‡∏ä‡πâ [https://github.com/swaggo/swag](https://github.com/swaggo/swag) ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ ‡∏ã‡∏∂‡πà‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢ web framework

‡πÉ‡∏ô‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÉ‡∏ä‡πâ [fiber](https://docs.gofiber.io/) ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ package [fiber-swagger](https://github.com/swaggo/fiber-swagger) ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô middleware ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á API document ‡∏î‡πâ‡∏ß‡∏¢ Swagger 2.0 ‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

## ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Swagger 2.0 Api documents

‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å[‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß](https://github.com/somprasongd/blog-golang/tree/main/goapi-testing) ‡∏°‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á Swagger 2.0 Api documents

1.  ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á [Swag](https://github.com/swaggo/swag)

    ```bash
    go get github.com/swaggo/swag/cmd/swag
    ```

2.  ‡∏£‡∏±‡∏ô [Swag](https://github.com/swaggo/swag) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô (`pkg/docs`folder ‡πÅ‡∏•‡∏∞¬†`pkg/docs/doc.go`)

    ```bash
    swag init -g pkg/module/module.go -o pkg/docs
    ```

3.  ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `pkg/module/module.go` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ middleware ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ generate doc ui ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤

    ```go:pkg/module/module.go
    package module

    import (
    	// ...
    	"goapi-doc/pkg/docs"
    	fiberSwagger "github.com/swaggo/fiber-swagger"
    )

    func Init(ctx *app.Context) {
    	todo.Init(ctx)

    	ctx.Router.Get("/healthz", healthCheckHandler)

    	//Swagger Doc details
    	host := ctx.Config.Gateway.Host
    	basePath := ctx.Config.Gateway.BaseURL

    	if len(host) == 0 {
    		host = fmt.Sprintf("localhost:%v", ctx.Config.Server.Port)
    	}

    	if len(basePath) == 0 {
    		basePath = ctx.Config.App.BaseUrl
    	}
      // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î api doc
    	docs.SwaggerInfo.Title = "Todo Service API Document"
    	docs.SwaggerInfo.Description = "List of APIs for Todo Service."
    	docs.SwaggerInfo.Version = "1.0"
    	docs.SwaggerInfo.Host = host
    	docs.SwaggerInfo.BasePath = basePath
    	docs.SwaggerInfo.Schemes = []string{"https", "http"}

    	//Init Swagger routes
    	ctx.Router.Get("/swagger/*", fiberSwagger.WrapHandler)
    }

    func healthCheckHandler(c *fiber.Ctx) error {
    	return c.SendStatus(http.StatusOK)
    }
    ```

          <aside>

    üí° ‡∏ï‡πâ‡∏≠‡∏á `import "your_module_name/pkg/docs"` ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏°‡∏≠

          </aside>

          <aside>

    üí° ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏™‡πà‡πÄ‡∏õ‡πá‡∏ô comments ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å [https://github.com/swaggo/swag#general-api-info](https://github.com/swaggo/swag#general-api-info)

          </aside>

4.  ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î browser ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html) ‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏î‡πâ Swagger 2.0 Api documents

<div className="flex justify-center">
  <div>![Doc](/static/images/go/doc/doc1.png)</div>
</div>

## ‡πÉ‡∏™‡πà‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞ endpoints ‡∏£‡∏±‡∏ö request ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö response ‡∏¢‡∏±‡∏á‡πÑ‡∏á ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏™‡πà comments

**Comments ‡πÉ‡∏™‡πà‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á**

- @Summary ‚Üí ‡πÉ‡∏ä‡πâ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ api ‡πÄ‡∏™‡πâ‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
- @Description ‚Üí ‡πÉ‡∏ä‡πâ‡πÉ‡∏™‡πà‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ö‡∏ö‡∏¢‡∏≤‡∏ß
- @Tags ‚Üí ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î tag ‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢ tag ‡πÅ‡∏¢‡∏Å‡∏î‡πâ‡∏ß‡∏¢ commas
- @Accept ‚Üí ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö request ‡πÄ‡∏ä‡πà‡∏ô json
- @Produce ‚Üí ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö response ‡πÄ‡∏ä‡πà‡∏ô json
- @Param ‚Üí ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô body ‡πÉ‡∏ä‡πâ struct ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô
  - ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `[param name] [param type] [data type] [is mandatory?] [comment] [attribute(optional)]`
  - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `term query string false "filter the text based value (ex: term=dosomething)"`
- @Failure ‚Üí ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î error reponse ‡∏ó‡∏±‡πâ‡∏á code ‡πÅ‡∏•‡∏∞ body ‡πÉ‡∏ä‡πâ struct ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô
  - ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `[return code or default] [{param type}] [data type] [comment]`
  - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `@Failure 422 {object} swagdto.Error422`
- @Success ‚Üí ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î success reponse ‡∏ó‡∏±‡πâ‡∏á code ‡πÅ‡∏•‡∏∞ body ‡πÉ‡∏ä‡πâ struct ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô
  - ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `[return code or default] [{param type}] [data type] [comment]`
  - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `@Success 200 {object} swagdto.ResponseWithPage{data=swagger.TodoSampleListData}`
- @Router ‚Üí ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î path ‡πÅ‡∏•‡∏∞ method
  - ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `path [httpMethod]`
  - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á `@Router /todos [get]`

‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà [https://github.com/swaggo/swag#api-operation](https://github.com/swaggo/swag#api-operation)

**Request & Response Object**

‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö request ‡πÄ‡∏õ‡πá‡∏ô json ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏≠‡∏≤ dto struct ‡∏°‡∏≤‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö response ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏à‡∏∞‡πÄ‡∏≠‡∏≤ dto struct ‡∏°‡∏≤‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô json ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ ‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤ dto struct ‡∏°‡∏≤‡πÉ‡∏ä‡πâ ‡πÅ‡∏ï‡πà‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á struct ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö documents ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÅ‡∏ó‡∏ô ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ `example tag`

- **Error struct** ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• response ‡∏Å‡∏£‡∏ì‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ú‡∏¥‡∏î‡∏ú‡∏•‡∏≤‡∏î ‡∏ã‡∏∂‡πà‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á json ‡∏à‡∏∞‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô ‡πÄ‡∏•‡∏¢‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏ô `pkg/common/swagdto/error.go`

  ```go:pkg/common/swagdto/error.go
  package swagdto

  type ErrorDetail struct {
  	Target  string `json:"target" example:"name"`
  	Message string `json:"message" example:"name field is required"`
  }

  type ErrorData400 struct {
  	Code    string `json:"code" example:"400"`
  	Message string `json:"message" example:"Bad Request"`
  }

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á error response ‡∏Å‡∏£‡∏ì‡∏µ‡∏™‡πà‡∏á request data ‡∏°‡∏≤‡∏ú‡∏¥‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö
  type Error400 struct {
  	Status    uint         `json:"status" example:"400"`
  	Error     ErrorData400 `json:"error"`
  	RequestId string       `json:"requestId" example:"3b6272b9-1ef1-45e0"`
  }

  type ErrorData401 struct {
  	Code    string `json:"code" example:"401"`
  	Message string `json:"message" example:"Unauthorized"`
  }

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á error response ‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ login
  type Error401 struct {
  	Status    uint         `json:"status" example:"401"`
  	Error     ErrorData401 `json:"error"`
  	RequestId string       `json:"requestId" example:"3b6272b9-1ef1-45e0"`
  }

  type ErrorData403 struct {
  	Code    string `json:"code" example:"403"`
  	Message string `json:"message" example:"Forbidden"`
  }

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á error response ‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
  type Error403 struct {
  	Status    uint         `json:"status" example:"403"`
  	Error     ErrorData403 `json:"error"`
  	RequestId string       `json:"requestId" example:"3b6272b9-1ef1-45e0"`
  }

  type ErrorData404 struct {
  	Code    string `json:"code" example:"404"`
  	Message string `json:"message" example:"Not Found"`
  }

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á error response ‡∏Å‡∏£‡∏ì‡∏µ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠
  type Error404 struct {
  	Status    uint         `json:"status" example:"404"`
  	Error     ErrorData404 `json:"error"`
  	RequestId string       `json:"requestId" example:"3b6272b9-1ef1-45e0"`
  }

  type ErrorData422 struct {
  	Code    string        `json:"code" example:"422"`
  	Message string        `json:"message" example:"invalid data see details"`
  	Details []ErrorDetail `json:"details"`
  }

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á error response ‡∏Å‡∏£‡∏ì‡∏µ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• struct ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô
  type Error422 struct {
  	Status    uint         `json:"status" example:"422"`
  	Error     ErrorData422 `json:"error"`
  	RequestId string       `json:"requestId" example:"3b6272b9-1ef1-45e0"`
  }

  type ErrorData500 struct {
  	Code    string `json:"code" example:"500"`
  	Message string `json:"message" example:"Internal Server Error"`
  }

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á error response ‡∏Å‡∏£‡∏ì‡∏µ error ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏¥‡∏ß‡∏£‡∏µ‡πà‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î
  type Error500 struct {
  	Status    uint         `json:"status" example:"500"`
  	Error     ErrorData500 `json:"error"`
  	RequestId string       `json:"requestId" example:"3b6272b9-1ef1-45e0"`
  }
  ```

- **Response struct** ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• response ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏ã‡∏∂‡πà‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á json ‡∏à‡∏∞‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô ‡πÄ‡∏•‡∏¢‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏ô `pkg/common/swagdto/response.go`

  ```go:pkg/common/swagdto/response.go
  package swagdto

  type PagingResult struct {
  	Page      int `json:"page" example:"1"`
  	Limit     int `json:"limit" example:"10"`
  	PrevPage  int `json:"prevPage" example:"0"`
  	NextPage  int `json:"nextPage" example:"2"`
  	Count     int `json:"count" example:"20"`
  	TotalPage int `json:"totalPage" example:"2"`
  }

  type Response struct {
  	Status    int         `json:"status" example:"200"`
  	Data      interface{} `json:"data,omitempty"`
  	RequestId string      `json:"requestId" example:"3b6272b9-1ef1-45e0"`
  }

  // reponse ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö pagination
  type ResponseWithPage struct {
  	Status     int          `json:"status" example:"200"`
  	Data       interface{}  `json:"data,omitempty"`
  	Pagination PagingResult `json:"_pagination,omitempty"`
  	RequestId  string       `json:"requestId" example:"3b6272b9-1ef1-45e0"`
  }
  ```

- **Data struct** ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô response ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏°‡∏î‡∏π‡∏• ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô `pkg/module/todo/swagger/todo.go`

  ```go:pkg/module/todo/swagger/todo.go
  package swagger

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ
  type TodoRepsonse struct {
  	ID        string `json:"id" example:"bfbc2a69-9825-4a0e-a8d6-ffb985dc719c"`
  	Text      string `json:"text" example:"do something"`
  	Completed bool   `json:"completed" example:"false"`
  }

  type ListTodoRepsonse []TodoRepsonse

  // ‡∏Å‡∏£‡∏ì‡∏µ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÉ‡∏ô response.data ‡∏à‡∏∞‡πÑ‡∏î‡πâ object ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤ todo
  type TodoSampleData struct {
  	Data TodoRepsonse `json:"todo"`
  }

  // ‡∏Å‡∏£‡∏ì‡∏µ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡πÉ‡∏ô response.data ‡∏à‡∏∞‡πÑ‡∏î‡πâ object ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤ todos ‡πÄ‡∏õ‡πá‡∏ô array
  type TodoSampleListData struct {
  	Data ListTodoRepsonse `json:"todos"`
  }

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á json body ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏°‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà
  // ‡πÉ‡∏™‡πà comment Required: true ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô required field
  type CreateTodoFrom struct {
  	// Required: true
  	Text string `json:"text" example:"do something"`
  }

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á json body ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏°‡∏≤‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
  // ‡πÉ‡∏™‡πà comment Required: true ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô required field
  type UpdateTodoStatusForm struct {
  	// Required: true
  	Completed bool `json:"completed"`
  }

  // ‡∏Å‡∏£‡∏ì‡∏µ validate create form ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô
  type ErrorDetailCreate struct {
  	Target  string `json:"target" example:"text"`
  	Message string `json:"message" example:"text field is required"`
  }

  type ErrCreateSampleData struct {
  	Code    string              `json:"code" example:"422"`
  	Message string              `json:"message" example:"invalid data see details"`
  	Details []ErrorDetailCreate `json:"details"`
  }

  // ‡∏Å‡∏£‡∏ì‡∏µ validate update form ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô
  type ErrorDetailUpdate struct {
  	Target  string `json:"target" example:"completed"`
  	Message string `json:"message" example:"completed field is required"`
  }

  type ErrUpdateSampleData struct {
  	Code    string              `json:"code" example:"422"`
  	Message string              `json:"message" example:"invalid data see details"`
  	Details []ErrorDetailUpdate `json:"details"`
  }

  ```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**

- POST - /api/v1/todos ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà

```go
// @Summary Add a new todo
// @Description Add a new todo
// @Tags Todo
// @Accept  json
// @Produce  json
// @Param todo body swagger.CreateTodoFrom true "Todo Data"
// @Failure 422 {object} swagdto.Error422{error=swagger.ErrCreateSampleData}
// @Failure 500 {object} swagdto.Error500
// @Success 201 {object} swagdto.Response{data=swagger.TodoSampleData}
// @Router /todos [post]
func (h TodoHandler) CreateTodo(c common.HContext) error {
	// ...
}
```

- GET - /api/v1/todos ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

```go
// @Summary List all existing todos
// @Description You can filter all existing todos by listing them.
// @Tags Todo
// @Accept  json
// @Produce  json
// @Param term query string false "filter the text based value (ex: term=dosomething)"
// @Param completed query bool false "filter the status based value (ex: completed=true)"
// @Param page query int false "Go to a specific page number. Start with 1"
// @Param limit query int false "Page size for the data"
// @Param order query string false "Page order. Eg: text desc,createdAt desc"
// @Failure 400 {object} swagdto.Error400
// @Failure 500 {object} swagdto.Error500
// @Success 200 {object} swagdto.ResponseWithPage{data=swagger.TodoSampleListData}
// @Router /todos [get]
func (h TodoHandler) ListTodo(c common.HContext) error {
  // ...
}
```

- GET - /api/v1/todos/:id ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å id ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏

```go
// @Summary Get a todo
// @Description Get a specific todo by id
// @Produce json
// @Tags Todo
// @Param id path string true "Todo ID"
// @Failure 400 {object} swagdto.Error400
// @Failure 404 {object} swagdto.Error404
// @Failure 500 {object} swagdto.Error500
// @Success 200 {object} swagdto.Response{data=swagger.TodoSampleData}
// @Router /todos/{id} [get]
func (h TodoHandler) GetTodo(c common.HContext) error {
  // ...
}
```

- PATCH - /api/v1/todos/:id ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å id ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏

```go
// @Summary Update a todo status
// @Description Update a specific todo status by id
// @Produce json
// @Tags Todo
// @Param id path string true "Todo ID"
// @Param todo body swagger.UpdateTodoStatusForm true "Todo Status Data"
// @Failure 400 {object} swagdto.Error400
// @Failure 404 {object} swagdto.Error404
// @Failure 422 {object} swagdto.Error422{error=swagger.ErrUpdateSampleData}
// @Failure 500 {object} swagdto.Error500
// @Success 200 {object} swagdto.Response{data=swagger.TodoSampleData}
// @Router /todos/{id} [patch]
func (h TodoHandler) UpdateTodoStatus(c common.HContext) error {
  // ...
}
```

- DELETE - /api/v1/todos/:id ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å id ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏

```go
// @Summary Delete a todo
// @Description Delete a specific todo by id
// @Produce  json
// @Tags Todo
// @Param id path string true "Todo ID"
// @Failure 400 {object} swagdto.Error400
// @Failure 404 {object} swagdto.Error404
// @Failure 500 {object} swagdto.Error500
// @Success 204
// @Router /todos/{id} [delete]
func (h TodoHandler) DeleteTodo(c common.HContext) error {
  // ...
}
```

- ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ‡πÉ‡∏´‡πâ generate `pkg/docs/doc.go` ‡πÉ‡∏´‡∏°‡πà ‡∏à‡∏≤‡∏Å comments ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ

```bash
swag init -g pkg/module/module.go -o pkg/docs
```

- ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î browser ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html) ‡∏Å‡πá‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏•‡πâ‡∏ß

<div className="flex justify-center">
  <div>![Doc](/static/images/go/doc/doc2.png)</div>
</div>

‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏î‡πâ[‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà](https://github.com/somprasongd/blog-golang/tree/main/goapi-doc)
